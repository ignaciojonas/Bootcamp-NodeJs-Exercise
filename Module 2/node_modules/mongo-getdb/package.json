{
  "name": "mongo-getdb",
  "version": "0.0.6",
  "description": "A very opinionated way to connect with the mongodb driver.",
  "main": "index.js",
  "scripts": {
    "test": "mocha --timeout 60000"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/jfromaniello/mongo-getdb.git"
  },
  "keywords": [
    "mongodb",
    "easy"
  ],
  "author": {
    "name": "José F. Romaniello",
    "email": "jfromaniello@gmail.com",
    "url": "http://joseoncode.com"
  },
  "license": "mit",
  "devDependencies": {
    "chai": "~1.5.0",
    "mocha": "~1.9.0"
  },
  "dependencies": {
    "mongodb": "~1.2.14"
  },
  "readme": "A very opinionated way to connect with the mongodb driver.\n\n## Installation\n\n\tnpm install mongo-getdb\n\n## Why?\n\nBecause I keep doing the same thing over and over everytime I want to use mongodb from node and because this is what works for us most of the time.\n\n## Usage\n\n~~~javascript\nvar getDb = require('mongo-getdb');\n\ngetDb(function (db) {\n\tdb.collection('products')\n\t  .find({})\n\t  .toArray(function(er, prods) {\n\n\t  });\n});\n~~~\n\nYou can set the url before hand as:\n\n~~~javascript\nrequire('mongo-getdb').init({url: 'mongodb://localhost/mydb'});\n\n//or\n\nrequire('mongo-getdb').init({url: 'mongodb://user:password@host:port/database'});\n~~~\n\n__but keep reading, you might not need this__.\n\n## What?\n\n-  Connection information is take from and in this order of priority: ```init``` method, ```process.env.DB```, ```process.env.MONGOLAB_URI```, any process.env starting with ```mongodb://```, any process.env starting with ```mongo://```.\n-  Connection is established the first time you call getDb in any part of your application (lazy-ness).\n-  There is only one connection for all the lifecycle of your application.\n-  Connection is established with these options:\n\n~~~javascript\n\tauto_reconnect: true,\n\tsocketOptions: { keepAlive: 300 },\n\tpoolSize: 10\n~~~\n\n-  When the connection can't be established it will log an error message and exit with status code 1.\n\n## Usage with multiples databases\n\n~~~javascript\nrequire('mongo-getdb').init({url: {\n\t'db-one': 'mongodb://localhost/mydb',\n\t'db-two': 'mongodb://localhost/foo'\n}});\n\ngetDb('db-one', function (db) {\n\tdb.collection('products')\n\t  .find({})\n\t  .toArray(function(er, prods) {\n\n\t  });\n});\n~~~\n\nAlias is optional:\n\n~~~javascript\ngetDb('mongodb://localhost/mydb', function (db) {\n\tdb.collection('products')\n\t  .find({})\n\t  .toArray(function(er, prods) {\n\n\t  });\n});\n~~~\n\n\n## Usage with replicasets\n\n~~~javascript\nvar getDb = require('mongo-getdb');\n\ngetDb.init({ url:  'mongodb://usr:password@[repl1=server1:27018,server2:27017]/mydb' });\n\ngetDb(function (db) {\n\tdb.collection('products')\n\t  .find({})\n\t  .toArray(function(er, prods) {\n\n\t  });\n});\n~~~\n\n## connect-mongo\n\nUsage with [connect-mongodb](https://github.com/kcbanner/connect-mongo).\n\n~~~javascript\nvar express     = require('express');\nvar getDb       = require('mongo-getdb');\nvar MongoStore  = require('connect-mongo')(express);\n\nvar storeConfig = getDb.getDbAndCredentials();\n\nstoreConfig.collection = 'sessions';\n\nvar store = new MongoStore(storeConfig);\n~~~\n\n\n## License\n\nMIT - 2013 - José F. Romaniello\n",
  "readmeFilename": "README.md",
  "_id": "mongo-getdb@0.0.6",
  "_from": "mongo-getdb@"
}
